# Домашнее задание к занятию «Уязвимости и атаки на информационные системы» - Липовецкий Александр
  
## Задание 1  
  
Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.  
  
Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.  
  
Просканируйте эту виртуальную машину, используя nmap.  
  
Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.  
  
Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.  
  
Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.  
  
Ответьте на следующие вопросы:  
  
Какие сетевые службы в ней разрешены?  
Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)  
Приведите ответ в свободной форме.  

### Ответ на задание 1  

При сканировании IP - 10.0.0.149 на котором развернута виртуальная машина с установленной операционной системой Metasploitable, обнаружены сетевые службы:
  
##### SERVICE     VERSION  
* ftp         vsftpd 2.3.4  
* sshH 4.7p1  Debian 8ubuntu1 (protocol 2.0)
* telnet      Linux telnetd
* smtp        Postfix smtpd
* domain      ISC BIND 9.4.2
* http        Apache httpd 2.2.8 ((Ubuntu) DAV/2)
* rpcbind     2 (RPC #100000)
* netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
* netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
* exec        netkit-rsh rexecd
* login?
* shell       Netkit rshd
* java-rmi    GNU Classpath grmiregistry
* bindshell   Metasploitable root shell
* nfs         2-4 (RPC #100003)
* ftp         ProFTPD 1.3.1
* mysql       MySQL 5.0.51a-3ubuntu5
* postgresql  PostgreSQL DB 8.3.0 - 8.3.7
* vnc         VNC (protocol 3.3)
* X11         (access denied)
* irc         UnrealIRCd
* ajp13       Apache Jserv (Protocol v1.3)
* http        Apache Tomcat/Coyote JSP engine 1.1

Обнаружены уязвимости:  
  
* [vsftpd 2.3.4 - Backdoor Command Execution](https://www.exploit-db.com/exploits/49757)  
* [Samba 3.5.0 - Remote Code Execution](https://www.exploit-db.com/exploits/42060)  
* [MySQL 5.0.x - IF Query Handling Remote Denial of Service](https://www.exploit-db.com/exploits/30020)  
  
## Задание 2   

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.  

Запишите сеансы сканирования в Wireshark.  

Ответьте на следующие вопросы:  
  
* Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
* Как отвечает сервер?
  
Приведите ответ в свободной форме.  
  
### Ответ на задание 2   
  
Режимы сканирования отличаются характером направляемого запроса и как следствие характером получаемого ответа.
Все режимы работают на транспортном уровне, SYN, FIN и Xmap - используют TCP протокол, а UDP - соотвественно UDP.  

* В режиме SYN-сканирования (Stealth Scan) отправляются пакеты SYN (сигнал на начало соединения) на целевой порт, если порт открыт, сервер отвечает пакетом SYN-ACK, если порт закрыт, сервер отвечает пакетом RST (Reset).
Данный режим генерирует минимальный трафик, так как не устанавливает полное TCP-соединение.

* В режиме FIN-сканирования отправляются пакеты с флагом FIN (сигнал о завершении соединения) на целевой порт. Если порт закрыт, сервер обычно отвечает RST. Если порт открыт, то по спецификации TCP он не должен отвечать (но может ответить RST в зависимости от реализации).
Данный режим генерирует меньше трафика, чем при полном соединении, но может быть менее эффективным из-за различных реализаций TCP на разных системах.

* В режиме Xmas-сканирования отправляются пакеты с установленными флагами FIN, URG и PUSH. Аналогично FIN-сканированию: если порт закрыт, сервер отвечает RST; если открыт — обычно нет ответа.
В этом режиме генерируется похожий на FIN трафик, но используется несколько флагов для обхода некоторых систем защиты.

* В режиме UDP-сканирования отправляются UDP-пакеты на целевые порты. Если порт открыт, может не быть ответа (в зависимости от приложения). Если порт закрыт, сервер обычно отвечает ICMP-сообщением «Port Unreachable».
UDP-трафик может быть более сложным для анализа, так как многие службы могут не отвечать на пустые UDP-запросы. Работает по UDP протоколу. 
  
Ответ сервера на SYN:  
- Открытый порт: SYN-ACK.
- Закрытый порт: RST.

Ответ сервера на FIN:  
- Открытый порт: нет ответа (или RST в некоторых реализациях).
- Закрытый порт: RST.

Ответ сервера на Xmas:  
- Открытый порт: нет ответа (или RST в некоторых реализациях).
- Закрытый порт: RST.

Ответ сервера на UDP:  
- Открытый порт: нет ответа.
- Закрытый порт: ICMP Port Unreachable.